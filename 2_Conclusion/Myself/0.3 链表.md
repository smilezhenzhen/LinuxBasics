参考极客时间版权所有: https://time.geekbang.org/column/article/41222

#### 一、链表与数组的区别

链表不需要一块连续的内存空间，可通过“指针”将一组零散的内存块串联起来使用。

![img](https://static001.geekbang.org/resource/image/d5/cd/d5d5bee4be28326ba3c28373808a62cd.jpg)

#### 二、单链表

内存块称为链表的结点，为了将所有的结点串起来，每个链表的结点除了存储数据之外，还需要记载链表上的下一个结点的地址，将记录下个结点地址的指针叫做后继指针next。第一个结点称作头结点，最后一个结点叫做尾结点，头结点用来记载链表的基地址，尾结点的指针不指向下一个结点，而是指向一个空地址null。与数组一样，链表也支持数据的查找、插入和删除操作。链表在插入删除操作上非常快速，但是链表如果要随机访问第k个元素，就没有数组高效，需要根据指针一个结点一个结点地一次遍历，直到找到相应的结点。

![img](https://static001.geekbang.org/resource/image/45/17/452e943788bdeea462d364389bd08a17.jpg)

#### 三、循环链表

循环链表是这一种特殊的单链表，其尾结点指针指向链表的头结点。和单链表相比，循环链表的优点是从链尾到链头比较方便。

![img](https://static001.geekbang.org/resource/image/86/55/86cb7dc331ea958b0a108b911f38d155.jpg)

#### 四、双向链表

每个结点不止一个后继指针next指向后面的结点，还有一个前驱指针prev指向前面的结点。即双向链表需要额外的两个空间来存储后继结点和前驱结点的地址，故如果存储同样多的数据，双向链表要比单链表占用更多的内存空间，但可以支持双向遍历，这样也带来了双向链表操作的灵活性。双向链表是采用空间换时间的设计思想，当内存空间充足的时候，如果我们更加追求代码的执行速度，我们就可以选择空间复杂度相对较高、但时间复杂度相对很低的算法结构。相反，如果内存比较紧缺，比如代码跑在手机或者单片机上，这个时候，就要反过来用时间换空间的设计思路。

![img](https://static001.geekbang.org/resource/image/cb/0b/cbc8ab20276e2f9312030c313a9ef70b.jpg)

#### 五、双向循环链表

![img](https://static001.geekbang.org/resource/image/d1/91/d1665043b283ecdf79b157cfc9e5ed91.jpg)

#### 六、链表与数组的性能对比

![img](https://static001.geekbang.org/resource/image/4f/68/4f63e92598ec2551069a0eef69db7168.jpg)

#### 七、链表编写技巧

##### 7.1 理解指针或引用的含义

将某个变量赋值给指针，实际上就是将整个变量的地址赋值给指针，或者发过来说，指针中存储了这个变量的内存地址，指向了这个变量，通过指针就能找到这个变量。

##### 7.2 警惕指针丢失和内存泄漏

插入结点时，一定要注意操作的顺序；删除链表结点时，也一定要记得手动释放内存空间。

```
x->next = p->next;  // 将 x 的结点的 next 指针指向 b 结点；

p->next = x;  // 将 p 的 next 指针指向 x 结点；
```

![img](https://static001.geekbang.org/resource/image/05/6e/05a4a3b57502968930d517c934347c6e.jpg)

##### 7.3 利用哨兵简化实现难度

针对链表的插入、删除操作，需要对插入第一个结点和删除最后一个结点的情况进行特殊处理。引入哨兵结点，在任何时候，不管链表是不是空，head指针都会一直指向这个哨兵结点。

![img](https://static001.geekbang.org/resource/image/7d/c7/7d22d9428bdbba96bfe388fe1e3368c7.jpg)

##### 7.4 重点留意边界条件处理

① 如果链表为空时，代码是否能正常工作？

② 如果链表只包含一个结点时，代码是否能正常工作？

③ 如果链表只包含两个结点时，代码是否能正常工作？

④ 代码逻辑在处理头结点和尾结点的时候，是否能正常工作？

##### 7.5 举例画图，辅助思考

![img](https://static001.geekbang.org/resource/image/4a/f8/4a701dd79b59427be654261805b349f8.jpg)

##### 7.6 多写多练

① 单链表反转

② 链表中环的检测

③ 两个有序的链表合并

④ 删除链表倒数第 n 个结点

⑥ 求链表的中间结点