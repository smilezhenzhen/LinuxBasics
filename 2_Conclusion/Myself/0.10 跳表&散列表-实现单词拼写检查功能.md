---
typora-copy-images-to: assets
---

#### 一、跳表

对链表建立以及“索引”，每两个结点提取到一个节点到上一级，加入一层索引之后，查找一个结点需要遍历的结点个数减少，即查找效率提高了。这种链表加多级索引的结构就是跳表。

![img](D:\Git\2_Conclusion\Myself\assets\14753c824a5ee4a976ea799727adc78e.jpg)

第K级索引的结点个数是第k-1级索引的结点个数的1/2，那第k级索引结点的个数就是n/(2k)；如果遍历每一层都要遍历m个结点，那链表中查询一个数据的时间复杂度就是O(m*logn)，经过计算m=3，即时间复杂度为O(logn)。

跳表是通过空间换时间的思路，比起单纯的单链表，调表要存储多级索引，肯低昂要消耗更多的存储空间，跳表的空间复杂度为O(n)。

![img](D:\Git\2_Conclusion\Myself\assets\100e9d6e5abeaae542cf7841be3f8255.jpg)

调表不仅支持查找操作，还支持动态插入、删除操作，而且插入、删除操作的时间复杂度也是O(logn)。

#### 二、散列表(Hash Table)

##### 2.1 散列的思想

散列表用的是数组支持按照下标随机访问数据的特性，所以散列表其实就是数组的一种扩展，由数组演化而来。如果没有数组，就没有散列表。

以运动会的参赛选手为例，参赛选手的编号叫做键(key)，参赛编号转化为数组下标的映射方法叫做散列函数或哈希函数，由散列函数计算得到的值就叫做散列值或者哈希值。

![img](D:\Git\2_Conclusion\Myself\assets\92c89a57e21f49d2f14f4424343a2773.jpg)

散列表用的就是数组支持按照下标随机访问的时候，时间复杂度是O(1)的特性。通过散列函数把元素的键值映射为下标，将数据存储在数据组中对应下标的位置。当按照键值查询元素时，用同样的散列函数，将键值转化数组下标，从对应的数组下标的位置取数据。

##### 2.2 散列函数

散列函数定义为hash(key)，key表示元素的键值，hash(key)的值表示经过散列函数计算得到的散列值。散列函数的基本要求：

（1）散列函数计算得到的散列值是一个非负整数；

（2）如果key1=key2，那hash(key1)==hash(key2)；

（3）如果key1≠key2，那hash(key1)≠hash(key2)；

对于第三点，想要找到一个不同的key对应的散列值不一样的散列函数，进而作为函数下标，几乎是不可能的，所以也就无法完全避免散列冲突。

##### 2.3 散列冲突

常用的解决散列冲突的方法为：开放寻址法与链表法。

###### 2.3.1 开放寻址法

开放寻址法的思想是：如果出现了散列冲突，就重新探测一个空闲位置，将其插入。常用的探测方法为线性探测。具体为：向散列表中插入数据时，如果某个数据经过散列函数之后，存储位置已被占用，就从当前位置开始，依次往后查找，直到找到空闲位置。

![img](D:\Git\2_Conclusion\Myself\assets\5c31a3127cbc00f0c63409bbe1fbd0d5.jpg)

在散列表中查找元素的过程与插入类似，先通过散列函数求出要查找元素的键值对应的散列表，然后比较数组中下标为散列值的元素与要查找的元素。如果相等即为要找的元素，否则就顺序往后查找。如果遍历到数组中的空闲位置还没找到，就说明要查找的元素未在散列表中。

通过线性探测会存在一个问题：找到一个空闲位置，我们就认为散列表中不存在这个数据，但是如果这个空闲位置是我们是后来删除的，就会导致原来的查找算法失效。可以将删除的元素，特殊标记为deleted；当线性探测查找时，遇到标记为deleted的空间不是停下来，而是继续向下探测。

二次探测跟线性探测很像，线性探测每次探测的步长为1，探测的下标序列为hash(key)+0，hash(key)+1，hash(key)+2.......二次探测的步长为hash(key)+0，hash(key)+1，hash(key)+4。

双重散列，就是用一组散列函数，先用第一个散列函数，如果计算的位置被占用，就用第二个散列函数，依次类推。不挂使用哪种探测方式，散列表中的空闲位置不多的时候，散列冲突的概率就会加大，用装载因子来表示填入元素的多少，装载因子越大，说明空闲位置越少，冲突越多，散列表的性能就下降。

###### 2.3.2 链表法

在散列表中，每个桶或者槽都会对应一条链表，所有散列值相同的元素都放到相同槽位对应的链表中。

![img](D:\Git\2_Conclusion\Myself\assets\a4b77d593e4cb76acb2b0689294ec17f.jpg)

##### 2.4 word文档中单词拼写检查功能是如何实现的

用散列表来存储整个英文单词词典(2MB左右)，当用户输入某个英文单词时，拿用户输入的单词去散列表中查找，若找到则拼写正确；若没找到则瓶邪可能错误，给出提示。