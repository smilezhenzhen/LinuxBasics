参考极客时间版权所有: https://time.geekbang.org/column/article/41222

#### 一、为什么需要复杂度分析

1.1 测试结果非常依赖测试环境：例如不同的处理器，i9与i3跑相同的算法

1.2 测试结果受数据规模的影响很大：例如不同的排序算法针对不同的数据规模

故需要一个不用具体的测试数据来测试即可粗略的估计算法的执行效率的方法

#### 二、大O复杂度表示法

2.1 所有代码的执行时间T(n)与每行代码的执行次数n成正比

2.2 T(n)=O(f(n))，低阶、常亮、系数三部分并不左右增长趋势，故可以忽略，只需记录一个最大量级即可：

​	① 只需关注循环执行次数最多的一行代码

​	② 加法法则：总复杂度等于量级最大的那段代码的复杂度

​	③ 乘法法则：嵌套代码的复杂度等于嵌套内外代码复杂度的乘积

#### 三、几种常见时间复杂度

3.1 O(1)：一般情况下，只要算法中不存在循环语句、递归语句，即使有成千上万的代码。，其时间复杂度也是O(1)

```
 int i = 8;
 int j = 6;
 int sum = i + j;
```

3.2 O(logn)/O(nlogn)：时间复杂度为 O(logn)的代码执行n遍就是 O(nlogn)，归并排序、快速排序等的时间复杂度为 O(nlogn)，下面的代码时间复杂度为 O(logn)。

```
 i=1;
 while (i <= n)  {
   i = i * 2;
 }
```

3.3 O(m+n)、O(m*n)：代码的复杂度由两个数据的规模来决定

![img](https://static001.geekbang.org/resource/image/37/0a/3723793cc5c810e9d5b06bc95325bf0a.jpg)

#### 四、空间复杂度分析

时间复杂的全称是渐进时间复杂度，表示算法的执行时间与数据规模之间的增长关系；渐进空间复杂度表示算法的存储空间与数据规模之间的增长关系。

![img](https://static001.geekbang.org/resource/image/49/04/497a3f120b7debee07dc0d03984faf04.jpg)

#### 五、最好、最坏情况时间复杂度

5.1 最好情况时间复杂度就是，在最理想的情况下，执行一段代码的时间复杂度：例如要查找的变量x正好是在数组的第一个元素；

5.2 最坏情况时间复杂度就是，在最糟糕的情况下，执行一段代码的时间复杂度：例如要查找变量x，需要将整个数组都遍历一遍；

5.3 平均情况时间复杂度：根据每种情况的复杂度以及出现的概率求加权平均值，即为加权平均时间复杂度

5.4 均摊时间复杂度：摊还分析法，一般情况下等于最好情况时间复杂度。