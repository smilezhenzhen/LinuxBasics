#### 一、改造目的

1、提高服务器的资源利用率

2、实现每个项目的版本控制

3、便于各项目的积累与交接

4、规范实验室的管理与维护

#### 二、推荐工具

1、gitlab代码库

2、ceph：分配存储空间与权限，便于用户挂载

#### 三、方案设计

方便、可靠、按需、动态可扩展，对代码库、FTP、论坛、生产环境、开发环境、都进行统一管理。

##### 3.1 服务器的角色分配

计算节点（2台）: CPU多，核多，内存丰富的众核节点，发放计算实例

存储节点（1台）:多配硬盘，CPU和内存要求稍微可以低一些，搭建存储集群，发放存储实例

异构节点（1台）:存在CPU和GPU的特殊节点，主要负责GPU的管理和发放，也需要CPU和内存高配置

再加上交换机和VLAN等物理网络隔离，并配合用户鉴权和角色管理，按服务器的配置不同，将服务器赋予不同的"角色"。

##### 3.2 用户的鉴权管

按需管理，还有及时回收，销毁不需要的资源，做到资源利用率最大化，规范化，可以跟踪到每个机器的使用情况
同时相互隔离。

逻辑上的"管理平面"和"业务平面"隔离，都是IaaS层的建立；IaaS的目标是提高资源利用率，动态扩展，方便迁移，安全隔离，数据灾备；面对IaaS的需求客户，根据申请的规格发放实例。

设计公共的管理和申请系统，不管老师还是学生，如果想要使用服务器资源，需要在设计的申请系统上按约定进行工单填写，备注好规格，使用时间，并根据申请需求，动态分配虚拟机和GPU；后台也需要关注我们发放的实例的使用情况，方便及时告警和扩容。因为资源有限，申请的人可能很多，如果要做备份或延期，一定要提前在系统上申请，否则到期资源就自动收回。

##### 3.3 基础服务

IaaS层: openstack, ceph, cuda

PaaS层: K8S,openshift, mesos三选一，整体来说k8s最佳，当然docker是基础

SaaS层: dns, redis, mysql postgres, kafka, hadoop, python-jupyter, elk, flink, zookeeper, etcd

##### 3.4 配套资源

培训教材、练习环境、技术分享、项目管理、训练数据集

私有源：比如ISO镜像源，各种系统的存储，yum源，apt源，pip源，maven源，go源，方便大家进行安装和开发

各个项目的设计文档，会议纪要，遗留问题，bug问题单